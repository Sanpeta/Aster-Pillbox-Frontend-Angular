<div class="medications-card">
	<div class="card-header">
		<h2 class="card-title">Medicamentos</h2>
		<button
			class="info-button"
			[routerLink]="'/dashboard/medications'"
			routerLinkActive="active"
			aria-label="Ver detalhes dos medicamentos"
		>
			<app-icon
				[src]="'../../../../../assets/images/info-icon.svg'"
				[alt]="'Ver lista'"
			></app-icon>
		</button>
	</div>

	<div class="card-content">
		@if (medications.length == 0) {
		<div class="empty-state">
			<svg
				class="empty-icon"
				xmlns="http://www.w3.org/2000/svg"
				fill="none"
				viewBox="0 0 24 24"
				stroke="currentColor"
			>
				<path
					stroke-linecap="round"
					stroke-linejoin="round"
					stroke-width="2"
					d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"
				/>
			</svg>
			<p class="empty-message">Sem medicamentos cadastrados</p>
		</div>
		} @else {
		<div class="table-container">
			<table class="medications-table">
				<thead>
					<tr>
						@for (title of tableHeaders; track $index) {
						<th scope="col" class="table-header">
							{{ title }}
						</th>
						}
					</tr>
				</thead>
				<tbody>
					@for (medication of medications; track $index) {
					<tr class="table-row" [attr.data-index]="$index">
						<td class="table-cell medication-name">
							{{ medication.name }}
						</td>
						<td class="table-cell medication-alarms">
							<div class="alarms-list">
								@for (alarm of medication.alarms; track alarm) {
								<span class="alarm-badge">{{ alarm }}</span>
								}
							</div>
						</td>
						<td class="table-cell medication-quantity">
							<span class="quantity-badge">{{
								medication.quantity
							}}</span>
						</td>
						<td class="table-cell medication-compartment">
							<span class="compartment-badge">{{
								medication.compartiment
							}}</span>
						</td>
					</tr>
					}
				</tbody>
			</table>
		</div>
		}
	</div>
</div>
