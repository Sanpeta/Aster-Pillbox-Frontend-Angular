<div class="register-page">
	<!-- Seção da imagem lateral -->
	<div class="image-section">
		<div class="image-overlay"></div>
		<img
			class="background-image"
			src="/assets/images/medical-image-login.jpeg"
			alt="Aster Pillbox"
		/>
		<div class="brand-info">
			<div class="brand-card">
				<h2 class="brand-title">Aster Pillbox</h2>
				<p class="brand-description">
					Sua solução completa para gerenciamento de medicamentos e
					saúde pessoal
				</p>
			</div>
		</div>
	</div>

	<!-- Seção do formulário -->
	<div class="form-section">
		<div class="form-container">
			<!-- Loader e Dialog Container -->
			<app-loader [isLoading]="isLoading"></app-loader>
			<ng-template #dialogContainer></ng-template>

			<!-- Logo e título -->
			<div class="header">
				<a routerLink="/" class="logo-link">
					<img
						class="logo"
						src="/assets/images/logo-dark.png"
						alt="Aster Pillbox"
					/>
				</a>
				<h1 class="title">Criar sua conta</h1>
				<p class="subtitle">
					Cadastre-se agora e comece a gerenciar seus medicamentos de
					forma inteligente.
				</p>
			</div>

			<!-- Formulário de cadastro -->
			<form
				class="register-form"
				[formGroup]="registerForm"
				(ngSubmit)="onSubmit()"
			>
				<!-- Campo de email -->
				<div class="form-group">
					<label for="email" class="form-label">Email</label>
					<div class="input-wrapper">
						<svg
							class="input-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
							/>
						</svg>
						<input
							id="email"
							name="email"
							type="email"
							autocomplete="email"
							placeholder="Digite seu email"
							formControlName="email"
							class="form-input"
							[class.input-error]="hasEmailError()"
							required
						/>
					</div>
					<div class="error-message" *ngIf="hasEmailError()">
						<svg
							class="error-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
							/>
						</svg>
						<span class="error-text">{{
							getEmailErrorMessage()
						}}</span>
					</div>
				</div>

				<!-- Campo de senha -->
				<div class="form-group">
					<label for="password" class="form-label">Senha</label>
					<div class="input-wrapper">
						<svg
							class="input-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
							/>
						</svg>
						<input
							id="password"
							name="password"
							type="password"
							autocomplete="new-password"
							placeholder="Digite uma senha segura"
							formControlName="password"
							class="form-input"
							[class.input-error]="hasPasswordError()"
							required
						/>
					</div>
					<div class="error-message" *ngIf="hasPasswordError()">
						<svg
							class="error-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
							/>
						</svg>
						<span class="error-text">{{
							getPasswordErrorMessage()
						}}</span>
					</div>
				</div>

				<!-- Checkbox para termos e condições -->
				<div class="terms-section">
					<div class="checkbox-wrapper">
						<input
							type="checkbox"
							name="terms"
							id="terms"
							formControlName="terms_and_conditions"
							class="checkbox-input"
							[class.checkbox-error]="hasTermsError()"
							required
						/>
						<label for="terms" class="checkbox-label">
							Eu aceito os
							<a
								routerLink="/terms-and-conditions"
								target="_blank"
								class="terms-link"
							>
								termos e condições
							</a>
							de uso
						</label>
					</div>
					<app-error-message
						*ngIf="hasTermsError()"
						[control]="registerForm.get('terms_and_conditions')"
						[errorMessage]="getTermsErrorMessage()"
					></app-error-message>
				</div>

				<!-- Botão de cadastro -->
				<button
					type="submit"
					class="btn btn-primary btn-full"
					[disabled]="isLoading"
				>
					<app-icon
						class="btn-icon"
						[src]="'/assets/images/perfil-circle-icon.svg'"
						[alt]="'icon-register-account'"
						[classes]="'btn-icon-svg'"
					></app-icon>
					{{ isLoading ? "Cadastrando..." : "Criar Conta" }}
				</button>
			</form>

			<!-- Links adicionais -->
			<div class="additional-links">
				<div class="divider">
					<span class="divider-text">ou</span>
				</div>

				<p class="login-link">
					Já tem uma conta?
					<a routerLink="/login" class="link"> Fazer login </a>
				</p>
			</div>
		</div>
	</div>
</div>
