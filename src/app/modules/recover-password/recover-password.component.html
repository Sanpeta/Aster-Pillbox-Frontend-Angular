<div class="recover-password-page">
	<!-- Seção da imagem lateral -->
	<div class="image-section">
		<div class="image-overlay"></div>
		<img
			class="background-image"
			src="/assets/images/medical-image-login.jpeg"
			alt="Aster Pillbox"
		/>
		<div class="brand-info">
			<div class="brand-card">
				<h2 class="brand-title">Recuperação de Acesso</h2>
				<p class="brand-description">
					Não se preocupe, vamos ajudar você a recuperar o acesso à
					sua conta
				</p>
			</div>
		</div>
	</div>

	<!-- Seção do formulário -->
	<div class="form-section">
		<div class="form-container">
			<!-- Loader e Dialog Container -->
			<app-loader [isLoading]="isLoading"></app-loader>
			<ng-template #dialogContainer></ng-template>

			<!-- Logo e título -->
			<div class="header">
				<a routerLink="/" class="logo-link">
					<img
						class="logo"
						src="/assets/images/logo-dark.png"
						alt="Aster Pillbox"
					/>
				</a>
				<h1 class="title">Recuperar Senha</h1>
				<p class="subtitle">
					Digite seu email para receber as instruções de recuperação
					de senha.
				</p>
			</div>

			<!-- Formulário de recuperação -->
			<form
				class="recover-form"
				[formGroup]="resetPasswordForm"
				(ngSubmit)="onSubmit()"
			>
				<!-- Campo de email -->
				<div class="form-group">
					<label for="email" class="form-label">Email</label>
					<div class="input-wrapper">
						<svg
							class="input-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
							/>
						</svg>
						<input
							id="email"
							name="email"
							type="email"
							autocomplete="email"
							placeholder="Digite seu email"
							formControlName="email"
							class="form-input"
							[class.input-error]="hasEmailError()"
							required
						/>
					</div>
					@if (hasEmailError()) {
					<div class="error-message">
						<svg
							class="error-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
							/>
						</svg>
						<span class="error-text">{{
							getEmailErrorMessage()
						}}</span>
					</div>
					}
				</div>

				<!-- Botão de recuperação -->
				<button
					type="submit"
					class="btn btn-primary btn-full"
					[disabled]="isLoading"
				>
					<app-icon
						class="btn-icon"
						[src]="'/assets/images/lock-reset-icon.svg'"
						[alt]="'icon-reset-password'"
						[classes]="'btn-icon-svg'"
					></app-icon>
					{{ isLoading ? "Enviando..." : "Enviar Instruções" }}
				</button>
			</form>

			<!-- Links adicionais -->
			<div class="additional-links">
				<div class="divider">
					<span class="divider-text">ou</span>
				</div>

				<div class="back-to-login">
					<a routerLink="/login" class="back-link">
						<svg
							class="back-icon"
							xmlns="http://www.w3.org/2000/svg"
							fill="none"
							viewBox="0 0 24 24"
							stroke="currentColor"
						>
							<path
								stroke-linecap="round"
								stroke-linejoin="round"
								stroke-width="2"
								d="M10 19l-7-7m0 0l7-7m-7 7h18"
							/>
						</svg>
						Voltar para o Login
					</a>
				</div>
			</div>
		</div>
	</div>
</div>
